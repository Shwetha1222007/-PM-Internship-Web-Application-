apply_ui()
header()

def login():
    apply_dark_theme()
    render_header()

def login_page():
    st.markdown("## ğŸ” Login")

    email = st.text_input("Email")
    password = st.text_input("Password", type="password")

    col1, col2 = st.columns(2)

    with col1:
        if st.button("Login"):
            user = login_user(email, password)
            if user:
                st.session_state.user = user
                st.session_state.page = "dashboard"
                st.success("Login Successful ğŸ‰")
                st.rerun()   # ğŸ”¥ THIS IS THE KEY FIX
            else:
                st.error("âŒ Invalid Email or Password")

    with col2:
        if st.button("â¬…ï¸ Back"):
            st.session_state.page = "home"
            st.rerun()
